{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[13],{\"1de2\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{attrs:{padding:\"\"}},[a(\"MainList\",{attrs:{entity:\"user\"}})],1)},o=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"q-pa-md\"},[a(\"div\",{staticClass:\"table-title row q-pb-md\"},[a(\"div\",{staticClass:\"col-12\"},[a(\"span\",{staticClass:\"table-title-text\"},[t._v(t._s(t.entity))])])]),a(\"q-page-sticky\",{attrs:{position:\"top-left\",offset:[40,30]}},[a(\"q-btn\",{attrs:{size:\"sm\",fab:\"\",icon:\"las la-plus\",color:\"green\"},on:{click:t.create}})],1),a(\"q-table\",{attrs:{data:t.data,columns:t.columns,\"row-key\":\"name\",pagination:t.pagination,loading:t.loading,\"binary-state-sort\":\"\"},on:{\"update:pagination\":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:\"body-cell-avatar\",fn:function(t){return[a(\"q-td\",{attrs:{props:t}},[a(\"q-avatar\",{attrs:{size:\"32px\",rounded:\"\"}},[a(\"img\",{attrs:{src:t.row.profile.avatar,alt:\"\"}})])],1)]}},{key:\"body-cell-action\",fn:function(e){return[a(\"q-td\",{attrs:{props:e}},[a(\"q-btn\",{attrs:{\"icon-right\":\"las la-edit\",\"no-caps\":\"\",flat:\"\",dense:\"\"},on:{click:function(a){return t.edit(e.row.id)}}}),a(\"q-btn\",{attrs:{\"icon-right\":\"las la-eye\",\"no-caps\":\"\",flat:\"\",dense:\"\"},on:{click:function(a){return t.view(e.row.id)}}}),a(\"q-btn\",{attrs:{\"icon-right\":\"lar la-trash-alt\",\"no-caps\":\"\",flat:\"\",dense:\"\"},on:{click:function(a){return t.remove(e.row.id)}}})],1)]}}])})],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-card\",{staticClass:\"bg-grey-1 text-white\",attrs:{flat:\"\",bordered:\"\"}},[a(\"q-card-section\",[a(\"div\",{staticClass:\"row q-col-gutter-md\"},[a(\"div\",{staticClass:\"col-3\"},[a(\"q-select\",{attrs:{\"bg-color\":\"white\",dense:\"\",outlined:\"\",options:t.columnOptions,label:\"Field\"},model:{value:t.column,callback:function(e){t.column=e},expression:\"column\"}})],1),a(\"div\",{staticClass:\"col-3\"},[a(\"q-select\",{attrs:{\"bg-color\":\"white\",dense:\"\",outlined:\"\",options:t.operatorOptions,label:\"Operator\"},model:{value:t.operator,callback:function(e){t.operator=e},expression:\"operator\"}})],1),a(\"div\",{staticClass:\"col-6\"},[a(\"q-input\",{attrs:{\"bg-color\":\"white\",dense:\"\",outlined:\"\",label:\"Value\"},model:{value:t.value,callback:function(e){t.value=e},expression:\"value\"}})],1)])])],1)},r=[],c={name:\"WhereFilter\",data(){return{column:\"name\",columnOptions:[\"id\",\"name\",\"email\"],operator:\"=\",operatorOptions:[\">\",\"<\",\"!=\"],value:\"\"}}},u=c,d=a(\"2877\"),p=Object(d[\"a\"])(u,l,r,!1,null,\"45264f0c\",null),g=p.exports,m={props:[\"entity\"],data(){return{filtering:[],filter:\"\",loading:!1,pagination:{sortBy:\"name\",descending:!1,page:1,rowsPerPage:10,rowsNumber:50},columns:[],defaultColumns:[{name:\"action\",label:\"Action\",field:\"action\"}],data:[],defaultFilter:{where:{column:\"name\",operator:\"=\",value:\"Aaron Gleason\"}}}},mounted(){let t=this;this.onRequest({pagination:this.pagination}),this.getFields().then((e=>{let a=Object.values(e);t.columns=a.concat(t.defaultColumns)})).catch((t=>{console.log(\"error\",t)}))},methods:{remove(t){let e=this,a=\"admin/user/delete/\"+t;this.$axios.get(a).then((t=>{console.log(t),e.onRequest({pagination:e.pagination}),e.$q.notify({message:\"User deleted\",color:\"positive\",position:\"top-right\"})}))},create(){this.$router.push({name:\"user.create\"})},view(t){this.$router.push({name:\"user.view\",params:{id:t}})},edit(t){this.$router.push({name:\"user.edit\",params:{id:t}})},onRequest(t){const{page:e,rowsPerPage:a,sortBy:n,descending:o}=t.pagination;this.getPaginatedItems(e,a,n,o).then((t=>{console.log(t),this.data=t.data,this.pagination.rowsNumber=t.total})),this.pagination.page=e,this.pagination.rowsPerPage=a,this.pagination.sortBy=n,this.pagination.descending=o,this.loading=!1},getPaginatedItems(t,e,a,n){let o=n?\"-\":\"\",i=\"admin/\"+this.entity+\"/all?page=\"+t+\"&perPage=\"+e+\"&sort=\"+o+a+\"&include=profile\";const s=this.$axios.post(i,[]),l=s.then((t=>t.data));return l},getFields(){let t={entity:this.entity,entityModel:this.entity},e=\"admin/common/entityFields\";const a=this.$axios.post(e,t),n=a.then((t=>t.data));return n}},components:{WhereFilter:g}},h=m,f=Object(d[\"a\"])(h,i,s,!1,null,null,null),b=f.exports,v={name:\"UserIndex\",components:{MainList:b}},w=v,q=Object(d[\"a\"])(w,n,o,!1,null,null,null);e[\"default\"]=q.exports}}]);","name":"js/13.cf9234bd.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[13],{\n\n/***/ \"1de2\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/user/index.vue?vue&type=template&id=7cee00b8&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{attrs:{\"padding\":\"\"}},[_c('MainList',{attrs:{\"entity\":\"user\"}})],1)}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/user/index.vue?vue&type=template&id=7cee00b8&\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/components/MainList.vue?vue&type=template&id=8bda99fc&\nvar MainListvue_type_template_id_8bda99fc_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md\"},[_c('div',{staticClass:\"table-title row q-pb-md\"},[_c('div',{staticClass:\"col-12\"},[_c('span',{staticClass:\"table-title-text\"},[_vm._v(_vm._s(_vm.entity))])])]),_c('q-page-sticky',{attrs:{\"position\":\"top-left\",\"offset\":[40, 30]}},[_c('q-btn',{attrs:{\"size\":\"sm\",\"fab\":\"\",\"icon\":\"las la-plus\",\"color\":\"green\"},on:{\"click\":_vm.create}})],1),_c('q-table',{attrs:{\"data\":_vm.data,\"columns\":_vm.columns,\"row-key\":\"name\",\"pagination\":_vm.pagination,\"loading\":_vm.loading,\"binary-state-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event},\"request\":_vm.onRequest},scopedSlots:_vm._u([{key:\"body-cell-avatar\",fn:function(props){return [_c('q-td',{attrs:{\"props\":props}},[_c('q-avatar',{attrs:{\"size\":\"32px\",\"rounded\":\"\"}},[_c('img',{attrs:{\"src\":props.row.profile.avatar,\"alt\":\"\"}})])],1)]}},{key:\"body-cell-action\",fn:function(props){return [_c('q-td',{attrs:{\"props\":props}},[_c('q-btn',{attrs:{\"icon-right\":\"las la-edit\",\"no-caps\":\"\",\"flat\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.edit(props.row.id)}}}),_c('q-btn',{attrs:{\"icon-right\":\"las la-eye\",\"no-caps\":\"\",\"flat\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.view(props.row.id)}}}),_c('q-btn',{attrs:{\"icon-right\":\"lar la-trash-alt\",\"no-caps\":\"\",\"flat\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.remove(props.row.id)}}})],1)]}}])})],1)}\nvar MainListvue_type_template_id_8bda99fc_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/MainList.vue?vue&type=template&id=8bda99fc&\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Filters/WhereFilter.vue?vue&type=template&id=45264f0c&scoped=true&\nvar WhereFiltervue_type_template_id_45264f0c_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-card',{staticClass:\"bg-grey-1 text-white\",attrs:{\"flat\":\"\",\"bordered\":\"\"}},[_c('q-card-section',[_c('div',{staticClass:\"row q-col-gutter-md\"},[_c('div',{staticClass:\"col-3\"},[_c('q-select',{attrs:{\"bg-color\":\"white\",\"dense\":\"\",\"outlined\":\"\",\"options\":_vm.columnOptions,\"label\":\"Field\"},model:{value:(_vm.column),callback:function ($$v) {_vm.column=$$v},expression:\"column\"}})],1),_c('div',{staticClass:\"col-3\"},[_c('q-select',{attrs:{\"bg-color\":\"white\",\"dense\":\"\",\"outlined\":\"\",\"options\":_vm.operatorOptions,\"label\":\"Operator\"},model:{value:(_vm.operator),callback:function ($$v) {_vm.operator=$$v},expression:\"operator\"}})],1),_c('div',{staticClass:\"col-6\"},[_c('q-input',{attrs:{\"bg-color\":\"white\",\"dense\":\"\",\"outlined\":\"\",\"label\":\"Value\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1)])])],1)}\nvar WhereFiltervue_type_template_id_45264f0c_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/Filters/WhereFilter.vue?vue&type=template&id=45264f0c&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Filters/WhereFilter.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var WhereFiltervue_type_script_lang_js_ = ({\n  name: \"WhereFilter\",\n\n  data() {\n    return {\n      column: \"name\",\n      columnOptions: ['id', 'name', 'email'],\n      operator: '=',\n      operatorOptions: ['>', '<', '!='],\n      value: ''\n    };\n  }\n\n});\n// CONCATENATED MODULE: ./src/components/Filters/WhereFilter.vue?vue&type=script&lang=js&\n /* harmony default export */ var Filters_WhereFiltervue_type_script_lang_js_ = (WhereFiltervue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// CONCATENATED MODULE: ./src/components/Filters/WhereFilter.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  Filters_WhereFiltervue_type_script_lang_js_,\n  WhereFiltervue_type_template_id_45264f0c_scoped_true_render,\n  WhereFiltervue_type_template_id_45264f0c_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"45264f0c\",\n  null\n  \n)\n\n/* harmony default export */ var WhereFilter = (component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/MainList.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var MainListvue_type_script_lang_js_ = ({\n  props: ['entity'],\n\n  data() {\n    return {\n      filtering: [],\n      filter: '',\n      loading: false,\n      pagination: {\n        sortBy: 'name',\n        descending: false,\n        page: 1,\n        rowsPerPage: 10,\n        rowsNumber: 50\n      },\n      columns: [],\n      defaultColumns: [{\n        name: 'action',\n        label: 'Action',\n        field: 'action'\n      }],\n      data: [],\n      defaultFilter: {\n        where: {\n          column: 'name',\n          operator: '=',\n          value: 'Aaron Gleason'\n        }\n      }\n    };\n  },\n\n  mounted() {\n    let app = this;\n    this.onRequest({\n      pagination: this.pagination\n    });\n    this.getFields().then(data => {\n      let columns = Object.values(data);\n      app.columns = columns.concat(app.defaultColumns);\n    }).catch(error => {\n      console.log('error', error);\n    });\n  },\n\n  methods: {\n    remove(id) {\n      let app = this;\n      let url = \"admin/user/delete/\" + id;\n      this.$axios.get(url).then(response => {\n        console.log(response);\n        app.onRequest({\n          pagination: app.pagination\n        });\n        app.$q.notify({\n          message: \"User deleted\",\n          color: \"positive\",\n          position: \"top-right\"\n        });\n      });\n    },\n\n    create() {\n      this.$router.push({\n        name: 'user.create'\n      });\n    },\n\n    view(id) {\n      this.$router.push({\n        'name': 'user.view',\n        params: {\n          'id': id\n        }\n      });\n    },\n\n    edit(id) {\n      this.$router.push({\n        'name': 'user.edit',\n        params: {\n          'id': id\n        }\n      });\n    },\n\n    onRequest(props) {\n      const {\n        page,\n        rowsPerPage,\n        sortBy,\n        descending\n      } = props.pagination;\n      this.getPaginatedItems(page, rowsPerPage, sortBy, descending).then(data => {\n        console.log(data);\n        this.data = data.data;\n        this.pagination.rowsNumber = data.total;\n      });\n      this.pagination.page = page;\n      this.pagination.rowsPerPage = rowsPerPage;\n      this.pagination.sortBy = sortBy;\n      this.pagination.descending = descending;\n      this.loading = false;\n    },\n\n    getPaginatedItems(page, rowsPerPage, sortBy, descending) {\n      let fetchData = [];\n      let sort = descending ? '-' : '';\n      let url = \"admin/\" + this.entity + \"/all?page=\" + page + \"&perPage=\" + rowsPerPage + \"&sort=\" + sort + sortBy + \"&include=profile\";\n      const promise = this.$axios.post(url, []);\n      const dataPromise = promise.then(response => response.data);\n      return dataPromise;\n    },\n\n    getFields() {\n      let data = {\n        \"entity\": this.entity,\n        \"entityModel\": this.entity\n      };\n      let url = \"admin/common/entityFields\";\n      const promise = this.$axios.post(url, data);\n      const dataPromise = promise.then(response => response.data);\n      return dataPromise;\n    }\n\n  },\n  components: {\n    WhereFilter: WhereFilter\n  }\n});\n// CONCATENATED MODULE: ./src/components/MainList.vue?vue&type=script&lang=js&\n /* harmony default export */ var components_MainListvue_type_script_lang_js_ = (MainListvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/MainList.vue\n\n\n\n\n\n/* normalize component */\n\nvar MainList_component = Object(componentNormalizer[\"a\" /* default */])(\n  components_MainListvue_type_script_lang_js_,\n  MainListvue_type_template_id_8bda99fc_render,\n  MainListvue_type_template_id_8bda99fc_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var MainList = (MainList_component.exports);\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/user/index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var uservue_type_script_lang_js_ = ({\n  name: 'UserIndex',\n  components: {\n    MainList: MainList\n  }\n});\n// CONCATENATED MODULE: ./src/pages/user/index.vue?vue&type=script&lang=js&\n /* harmony default export */ var pages_uservue_type_script_lang_js_ = (uservue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/pages/user/index.vue\n\n\n\n\n\n/* normalize component */\n\nvar user_component = Object(componentNormalizer[\"a\" /* default */])(\n  pages_uservue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var user = __webpack_exports__[\"default\"] = (user_component.exports);\n\n/***/ })\n\n}]);","inputSourceMap":null}